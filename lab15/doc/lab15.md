# Лабораторна робота №14.  Структуровані типи даних

## 1 Вимоги

### 1.1 Розробник

* Фоменко Гліб Володимирович;
* студент групи КН-921Г;
* 05.05.2022.

### 1.2 Загальне завдання

З розділу “Індивідуальні завдання комплексної роботи” взяти прикладну галузь стосовно
номеру варіанту за попередньо-визначеною формулою. Створити структуру, що відображає “базовий клас”.

### 1.3 Індивідуальне завдання

(22) Необхідно описати країни які існували під час Другої Світової війни.

## 2 Опис програми

### 2.1 Функціональне призначення

Програма призначена для роботи із країнами. Їх можна додавати в масив, зберігати в файл, завантажувати з файлу, сортувати, та знаходити які країни після Другої Світової війни змінили свій устрій.
Демонстрація знайдених результатів передбачає виведення на єкран командною строкою.

### 2.2 Опис логічної структури

#### Функція збереження країн в файл

```c
	bool save_countries_to_file(struct country *countries, size_t countries_count, const char *path_to_file)
```

*Призначення*: збереження країн в файл;

*Опис роботи*:
	- Програма відкривае файл по шляху який переданий в аргумент;
	- Один раз записує в файл кількість країн;
	- Записує дані кожної країни;

#### Функція завантаження країн з файлу

```c
	struct country *load_countries_from_file(const char *path_to_file, size_t *output_countries_count)
```

*Призначення*: завантаження країн з файлу

*Опис роботи*:
	- Програма виводить на екран список команд;
	- Можна додати нову країну в масив;
	- Можна видалити країну зі списку;
	- Можна відсортувати масив країн по якомусь полі структури;
	- Можна знайти та вивести на екран усі країни, в яких було змінено устрій після війни;
	- Можна зберегти масив країн в файл;
	- Можна завантажити країни з файлу в масив;
	- Можна вийти з програми.

#### Функція сортування країн

```c
void sort_by_criterion(struct country *countries, size_t countries_count, enum criterion sorting_criterion)
```

*Призначення*: сортування країн за критерієм;

*Опис роботи*:
	- В залежності від того яких критерій переданий в аргумент, програма передає в qsort відповідну функцію.

#### Функція додавання країни в кінець списку

```c
struct country *add_country_in_the_end(struct country *countries, size_t *countries_count, struct country new_country)
```

*Призначення*: додавання країни в кінець списку;

*Опис роботи*:
	- Виділяє для масива нову пам'ять;
	- Додає в кінець нову країну;
	- Повертає вказівник на нову збільшену пам'ять.

#### Функція видалення країни зі списку

```c
struct country *remove_country_by_index(struct country *countries, size_t *countries_count, size_t removing_index)
```

*Призначення*: видалення країни за індексом;

*Опис роботи*:
	- Переписує масив без елементу який треба видалити;
	- Виділяє для масива нову пом'ять;
	- Повертає вказівник на нову зменшену пам'ять.

#### Основна функція

```c
	int main()
```

*Призначення*: головна функція;

*Опис роботи*: 
	- Програма виводить на екран список команд;
	- Можна додати нову країну в масив;
	- Можна відсортувати масив країн по якомусь полі структури;
	- Можна знайти та вивести на екран усі країни, в яких було змінено устрій після війни;
	- Можна зберегти масив країн в файл;
	- Можна завантажити країни з файлу в масив;
	- Можна вийти з програми.

#### Структура проекту

```
	lab15
	├── Doxyfile
	├── Makefile
	├── README.md
	├── assets
	│   └── countries.txt
	├── doc
	│   └── lab15.md
	├── src
	│   ├── lib.c
	│   ├── lib.h
	│   └── main.c
	└── test
		└── test.c
```

### 2.3 Важливі фрагменти програми

#### Покриття тестами

```
Filename                                             Regions    Missed Regions     Cover   Functions  Missed Functions  Executed       Lines      Missed Lines     Cover
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
/home/fomgleb/programing-fomenko/lab15/src/lib.c          87                56    35.63%          17                10    41.18%         238               139    41.60%
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                     87                56    35.63%          17                10    41.18%         238               139    41.60%
```

## 3 Варіанти використання

Для демонстрації результатів задачі використовується:

- перегляд виведених даних командній строці;

**Варіант із виведенням в командну строку**

- ввести потрібну команду в програмі;
- Подивитися результат.

```
Команди:
a - додати нову країну;
d - видалити країну;

c - відсортувати країни;
f - знайти усі країни, в яких було змінено устрій після війни;
p - вивести на екран країни;

s - зберегти країни в файл;
l - завантажити країни з файлу;

q - вийти;

Введіть команду:
```

## Висновки

При виконанні даної лабораторної роботи було написано прикольну програму та набуто навичок роботи із структурами та перечисленнями.