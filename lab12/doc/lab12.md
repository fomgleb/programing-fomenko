# Лабораторна робота №12. Строки (Null-terminateed C String)

## 1 Вимоги

### 1.1 Розробник

* Фоменко Гліб Володимирович;
* студент групи КН-921Г;
* 28.04.2022 - 29.04.2022.

### 1.2 Загальне завдання

Зробити програму працюючи зі строками.

### 1.3 Індивідуальне завдання

(21) Сформувати частотну таблицю символів у тексту та вивести її на екран (з вказанням
кількості та процентного відношення). Обмеження - виводити тільки ті символи, що
зустрічаються у тексті. 

## 2 Опис програми

### 2.1 Функціональне призначення

Програма призначена для отримання частотної таблиці символів у тексті
Демонстрація знайдених результатів передбачає покрокове виконання програми в режимі налагодження та виведення на єкран командною строкою.

### 2.2 Опис логічної структури

Програма перебирає кожен символ та створює масив кількості символів. Потоім з цього масиву кількостей створює масив
відсоткових співвідношень.

#### Функція отримання масиву кількоскей кожного символу в тексті

```c
    size_t *get_repeating_chars_counts(const char input_text[], size_t input_text_length, char output_repeating_chars[])
```

*Призначення*: повернення масиву кількості символів та самі символи в `output_repeating_chars`;

*Опис роботи*: перебирає в `input_text` кожен символ, та створює масив кількості кожного символу, також записує кожен новий символ в
`output_repeating_chars[]`

#### Функція отримання відсоткового співвідношення

```c
	float *get_percentage(const size_t *input_numbers, size_t input_numbers_length)
```

*Призначення*: повернення масиву відсоткового співвідношення чисел з `input_numbers`;

*Опис роботи*: щоб визначити відсоткое співвідношення елементу, треба число з `input_numbers` помножити на 100 та поділити на суму всіх
чисел з 'input_numbers'.

#### Основна функція

```c
	int main()
```

*Призначення*: головна функція;

*Опис роботи*: 
	- виведення інформації з файлу про лабораторну та виконавця;
	- введення тексту із стандартного потоку вводу;
	- функціями з lib.c отримання кількоскі кожного тексту та відсоткового співвідношення;
	- виведення даних;
	- визволення пам'яті.

#### Структура проекту

```
	lab12
	├── Doxyfile
	├── Makefile
	├── README.md
	├── assets
	│   └── input.txt
	├── doc
	│   └── lab12.md
	├── src
	│   ├── lib.c
	│   ├── lib.h
	│   └── main.c
	└── test
		└── test.c
```

### 2.3 Важливі фрагменти програми

#### Покриття тестами

```
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
/home/fomgleb/programing-fomenko/lab12/src/lib.c          21                 0   100.00%           3                 0   100.00%          44                 0   100.00%
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                     21                 0   100.00%           3                 0   100.00%          44                 0   100.00%
llvm-cov show dist/test.bin -instr-profile=dist/test.profdata src/*.c --format html > dist/coverage.html
```

## 3 Варіанти використання

Для демонстрації результатів задачі використовується:

- покрокове виконання програми в утиліті lldb;
- виведення на в командній строці.

**Варіант з lldb**: послідовність дій для запуску програми у режимі відлагодження:

- запустити програму у відлагоднику lldb;
- поставити точку зупинки на функції main (рядок, до виконання функції free);
- запустити програму;
- подивитись результати виконання програми, оглядаючи значення матриці output_repeating_chars, repeating_chars_counts,
repeating_chars_percentage.

```
Process 11248 launched: '/home/fomgleb/programing-fomenko/lab12/dist/main.bin' (x86_64)
Автор: Фоменко Гліб;
Лабораторна робота N№12;
Строки (Null-terminateed C String);

Input the text, please:
po
|p| - 1 шт, 50.0 %
|o| - 1 шт, 50.0 %
Process 11248 stopped
* thread #1, name = 'main.bin', stop reason = breakpoint 1.1
    frame #0: 0x0000000000401720 main.bin`main at main.c:73:7
   70                   printf("|%c| - %zu шт, %.1f %%\n", output_repeating_chars[i], repeating_chars_counts[i], repeating_chars_percentage[i]);
   71           }
   72  
-> 73           free(inputed_text);
   74           free(output_repeating_chars);
   75           free(repeating_chars_percentage);
   76           free(repeating_chars_counts);
(lldb) p output_repeating_chars 
(char *) $0 = 0x0000000000405890 "po"
(lldb) p repeating_chars_counts[0]
(size_t) $1 = 1
(lldb) p repeating_chars_counts[1]
(size_t) $2 = 1
(lldb) p repeating_chars_percentage[0]
(float) $3 = 50
(lldb) p repeating_chars_percentage[1]
(float) $4 = 50
```

**Варіант із виведенням в командну строку**

- запустити програму;
- ввести дані;
- подивитись результат виконання.

```
Автор: Фоменко Гліб;
Лабораторна робота N№12;
Строки (Null-terminateed C String);

Input the text, please:
I love you!
|I| - 1 шт, 9.1 %
| | - 2 шт, 18.2 %
|l| - 1 шт, 9.1 %
|o| - 2 шт, 18.2 %
|v| - 1 шт, 9.1 %
|e| - 1 шт, 9.1 %
|y| - 1 шт, 9.1 %
|u| - 1 шт, 9.1 %
|!| - 1 шт, 9.1 %
```

## Висновки

При виконанні даної лабораторної роботи було згадано як працювати із виділенням пам'яті.